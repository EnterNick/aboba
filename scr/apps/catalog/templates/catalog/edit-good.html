{% extends 'base.html' %}
{% load static %}

{% block content %}
<button id="modal-delete-btn" class="form__btn form__danger">Удалить</button>
<div class="modal">
    <form method="post" class="form" style="padding-left: 27px;">
        {% csrf_token %}
        <input hidden value="DELETE" name="method">
        <span id="modal-delete-btn-close" class="modal-close">x</span>
        <div class="form-group">
            <label>Вы уверены?</label>
            <button type="submit" style="background-color: #a11c1c;">Удалить</button>
        </div>
    </form>
</div>
<form class="form" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <input hidden value="PUT" name="method">
    <h1 class="form__title">Редактировать товар</h1>
    <fieldset>
        <div class="form-group">
            <label for="title">Название:</label>
            <input type="text" id="title" name="title" value="{{title}}" required>
        </div>
        <div class="form-group">
            <label for="description">Описание:</label>
            <textarea id="description" name="description" required>{{description}}</textarea>
        </div>
        <div class="form-group">
            <label for="price">Цена:</label>
            <input type="number" id="price" name="price" step="0.01" value="{{price}}" min=1 required>
        </div>
        <div class="form-group">
            <label for="value">Количество:</label>
            <input type="number" id="value" name="value" value="{{value}}" min=1 required>
        </div>
        <div class="form-group">
            <label for="image">Изображение:</label>
            <input type="file" id="image" name="image" value="{{image}}" onchange="imagePreview()">
        </div>
        <div class="form-group">
            <label for="category">Категория:</label>
            <select id="category" name="category" required>
                <option value="">Выберите категорию</option>
                {% for i in categories %}
                    <option value="{{i}}" {% if category == i %} selected {% endif %}>{{i}}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit">Подтвердить</button>
    </fieldset>
</form>

<br>

<h2 class="form__title">Предпросмотр</h2>
<div style="display: flex; gap: 20px; align-items: start; margin-bottom: 50px;">
    <div class="product-page">
        <div class="product-page__header">
            <h1 class="product-page__title"></h1>
        </div>

        <div class="product-page__content">
            <div class="product-page__image">
                <img src="{{ image }}" alt="img" class="product-page__image-img">
            </div>
            <div class="product-page__details">
                <p class="product-page__details_description"></p>
                <p class="product-page__details_price">Цена: <span class="product-page__price-value"> руб.</span></p>
                <p class="product-page__quantity">Осталось: <span class="product-page__quantity-value"></span></p>
                <p class="product-page__category">Категория: <span class="product-page__category-value"></span></p>
                <p class="product-page__orders">Заказов: <span class="product-page__orders-value"></span></p>

                <div disabled class="form">
                    {% csrf_token %}
                    <input disabled type="number" required value=1 name="value" min=1>
                    <button disabled type="submit" class="form__btn">Добавить в корзину</button>
                </div>
            </div>
        </div>
    </div>

    <div class="products__product">
        <div class="products__product__header">
            <img class="products__product__image" src="{{ image }}" alt="img">
            <h2 class="products__product__title"></h2>
        </div>
        <div class="products__product__body">
            <p class="products__product__description"></p>
            <p class="products__product__price">
                Цена: <span class="products__product__price-value"> руб.</span>
            </p>
            <p class="products__product__quantity">Осталось: <span class="products__product__quanity-value"></span> </p>
            <p class="products__product__category">Категория: <span class="products__product__category-value"></span></p>
            <p class="products__product__orders">Заказов: <span class="products__product__orders-value"></span></p>
        </div>
    </div>
</div>


<script src="{% static 'js/edit-good.js' %}">
</script>

{% endblock %}
